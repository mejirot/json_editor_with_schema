# GUI JSON Editor with Schema

スキーマベースのGUIフォーム型JSONエディター - 自動フォーム生成とバリデーション機能付き

## 概要

このプロジェクトは、JSON Schemaに基づいて自動的にGUIフォームを生成し、直感的なデータ入力とバリデーションができるWebベースのエディターです。技術的な知識がなくても、スキーマに従った正しいJSONデータを簡単に作成できます。

## 主な特徴

- **スキーマベースフォーム自動生成** - JSON Schemaからフォームを自動作成
- **型別最適化UI** - データ型に応じた最適な入力コンポーネント
- **手動バリデーション** - ボタンクリックで詳細なバリデーション実行
- **$ref参照解決** - スキーマの共通定義と参照をサポート
- **リアルタイムJSON出力** - フォーム入力と同時にJSON生成
- **日本語対応** - エラーメッセージとUIを日本語で表示

## サポートするデータ型と対応UI

| データ型 | UIコンポーネント | 機能 |
|----------|------------------|------|
| `string` | テキスト入力 | 文字数制限、パターン検証 |
| `string` + `enum` | セレクトボックス | 選択肢から選択 |
| `string` + `format: "email"` | メール入力 | メール形式検証 |
| `number`/`integer` | 数値入力 | 最小値・最大値制限 |
| `boolean` | チェックボックス | true/false選択 |
| `object` | ネストフォーム | 入れ子構造の入力フォーム |
| `array` | 動的リスト | 項目追加・削除機能 |

## 使用方法

### 基本的な使い方

1. ブラウザで `index.html` を開く
2. 左側パネルにJSON Schemaを入力
3. 「フォーム生成」ボタンをクリック
4. 中央の自動生成されたフォームでデータを入力
5. 右側パネルでリアルタイムJSON出力を確認
6. 「バリデーション実行」ボタンで検証

### サンプルスキーマの利用

- **Person Schema** - 個人情報入力フォーム
- **Product Schema** - 商品情報入力フォーム  
- **Config Schema** - アプリケーション設定フォーム
- **$ref Schema** - 参照を使った組織情報フォーム

### フォーム操作

- **必須項目** - 赤いアスタリスク（*）で表示
- **配列項目** - 「項目を追加」「削除」ボタンで動的管理
- **ネストオブジェクト** - グレー背景の専用エリア
- **バリデーションエラー** - 赤枠でエラーフィールドをハイライト

## バリデーション機能

### 対応するJSON Schema検証

- **型検証** - データ型の正確性チェック
- **必須項目** - `required`配列による必須フィールド
- **文字列制限** - `minLength`、`maxLength`、`pattern`
- **数値範囲** - `minimum`、`maximum`
- **メール形式** - `format: "email"`による形式チェック
- **列挙値** - `enum`による選択肢制限
- **配列一意性** - `uniqueItems`による重複チェック
- **追加プロパティ** - `additionalProperties`による制御
- **$ref参照** - 共通定義の参照解決と検証

### バリデーション結果表示

- ✅ **成功時**: 「✓ OK - すべてのデータが有効です」
- ❌ **エラー時**: 詳細なエラーリストと該当フィールドのハイライト
- ⚠️ **待機時**: 「バリデーション実行ボタンを押してください」

## $ref参照機能

共通定義を`definitions`セクションで定義し、`$ref`で参照可能：

```json
{
  "definitions": {
    "address": {
      "type": "object",
      "properties": {
        "street": {"type": "string"},
        "city": {"type": "string"}
      }
    }
  },
  "properties": {
    "homeAddress": {"$ref": "#/definitions/address"},
    "workAddress": {"$ref": "#/definitions/address"}
  }
}
```

## 技術仕様

- **フロントエンド**: HTML5, CSS3, Vanilla JavaScript
- **依存関係**: なし（外部ライブラリ不使用）
- **ブラウザ対応**: モダンブラウザ（ES6対応）
- **レスポンシブ**: デスクトップ・モバイル対応

## ファイル構成

```
gui-json-editor/
├── index.html         # メインHTMLファイル（CSS含む）
├── app.js            # JavaScript アプリケーションロジック
└── README.md         # このファイル
```

## 開発・カスタマイズ

### ローカル実行

```bash
# 任意のHTTPサーバーで実行
python -m http.server 8000
# または
npx serve
```

### カスタマイズポイント

1. **新しいデータ型サポート** - `generateFieldByType`関数を拡張
2. **UIコンポーネント追加** - 型別の入力フィールド生成関数を追加
3. **バリデーションルール** - `validateField`関数でカスタム検証追加
4. **スタイリング** - HTMLのCSSセクションでデザインカスタマイズ

## 基本版との違い

| 機能 | 基本版 | GUI版 |
|------|--------|-------|
| 入力方式 | テキストエディター | GUIフォーム |
| 学習コスト | JSON構文知識必要 | 直感的操作 |
| エラー表示 | テキストメッセージ | 視覚的ハイライト |
| 対象ユーザー | 開発者向け | 一般ユーザー向け |
| 柔軟性 | 高い | 中程度 |

## ライセンス

このプロジェクトはオープンソースです。自由に使用・改変してください。